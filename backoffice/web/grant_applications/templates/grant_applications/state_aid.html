{% extends 'grant_applications/generic_form_page.html' %}

{% block content %}

  <h2 class="govuk-heading-m">{{ page.heading }}</h2>

  <form class="form" method="POST" novalidate>

    {% csrf_token %}

    <div class="govuk-form-group{% if form.has_received_de_minimis_aid.errors %} govuk-form-group--error{% endif %}">

      {% include "core/govt_uk_form_field_label.html" with field=form.has_received_de_minimis_aid %}
      {% include "core/govt_uk_form_field_hint.html" with field=form.has_received_de_minimis_aid %}
      {% include "core/govt_uk_form_field_errors.html" with field=form.has_received_de_minimis_aid %}

      <fieldset class="govuk-fieldset">

        <div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">

          <div class="govuk-radios__item">
            {% ifequal form.has_received_de_minimis_aid.value|cut:"'" form.has_received_de_minimis_aid.subwidgets.0.data.value|cut:"'" %}
              <input class="govuk-radios__input" id="id_has_received_de_minimis_aid_01" name="has_received_de_minimis_aid" type="radio" value="True" data-aria-controls="state_aid_fields-conditional" checked>
            {% else %}
              <input class="govuk-radios__input" id="id_has_received_de_minimis_aid_02" name="has_received_de_minimis_aid" type="radio" value="True" data-aria-controls="state_aid_fields-conditional">
            {% endifequal %}
            <label class="govuk-label govuk-radios__label" for="id_has_received_de_minimis_aid_0">
              {{ form.has_received_de_minimis_aid.subwidgets.0.choice_label }}
            </label>
          </div>

          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="state_aid_fields-conditional">
            {% for field in form %}
              {% if field.name != "has_received_de_minimis_aid" %}
                {% include "core/govt_uk_form_field.html" with field=field %}
              {% endif %}
            {% endfor %}
          </div>

          <div class="govuk-radios__item">
            {% ifequal form.has_received_de_minimis_aid.value|cut:"'" form.has_received_de_minimis_aid.subwidgets.1.data.value|cut:"'" %}
              <input class="govuk-radios__input" id="id_has_received_de_minimis_aid_11" name="has_received_de_minimis_aid" type="radio" value="False" checked>
            {% else %}
              <input class="govuk-radios__input" id="id_has_received_de_minimis_aid_12" name="has_received_de_minimis_aid" type="radio" value="False">
            {% endifequal %}
            <label class="govuk-label govuk-radios__label" for="id_has_received_de_minimis_aid_1">
              {{ form.has_received_de_minimis_aid.subwidgets.1.choice_label }}
            </label>
          </div>

        </div>
      </fieldset>
    </div>

    <button class="govuk-button" data-module="govuk-button">
      {{ page.form_button_text | default:"Continue" }}
    </button>

  </form>


{% endblock %}
